<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>screenshot-note</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>screenshot-note</h1>
        </header>

        <main>
            <div class="video-section">
                <div class="upload-area">
                    <div class="drop-zone" id="dropZone">
                        <div class="drop-content">
                            <div class="folder-icon">📁</div>
                            <p class="drop-text">拖曳或點選上傳影片檔案到此處</p>
                            <p class="drop-hint">💡 影片長度將自動限制在30秒內，請付費解鎖！</p>
                        </div>
                        <input type="file" id="fileInput" accept="video/*" style="display: none;">
                    </div>
                    
                    <div class="premium-section">
                        <button id="unlockBtn" class="unlock-btn">🔓 付費解鎖完整功能</button>
                    </div>
                </div>

                <div id="reselectSection" style="display: none; text-align: center; margin-top: 1rem;">
                    <button id="reSelectVideoBtn" class="reselect-btn">🔁 重新選取影片檔案</button>
                </div>

                <div class="video-player-container" id="videoContainer" style="display: none;">
                    <video id="videoPlayer" controls>
                        您的瀏覽器不支援影片播放。
                        <track kind="subtitles" id="subtitleTrack" srclang="zh" label="Chinese" default>
                    </video>
                    <div class="video-controls">
                        <span class="timestamp" id="currentTime">00:00:00</span>
                    </div>
                </div>
            </div>

            <div class="notes-section">
                <div class="settings-section">
                    <h3>處理設定</h3>
                    <div class="settings-row">
                        <label for="intervalInput">截圖間隔 (秒):</label>
                        <input type="number" id="intervalInput" value="10" min="1" max="300">
                    </div>
                    <div class="settings-row">
                        <label for="sizeSelect">截圖大小:</label>
                        <select id="sizeSelect">
                            <option value="small">小 (400px)</option>
                            <option value="medium" selected>中 (800px)</option>
                            <option value="large">大 (1200px)</option>
                        </select>
                    </div>
                    <div class="permission-notice" id="permissionNotice">
                        <div class="notice-content">
                            <span class="notice-icon">🎤</span>
                            <div class="notice-text">
                                <strong>需要麥克風權限</strong>
                                <p>請允許使用麥克風來識別影片中的語音。點擊「開始處理」時會要求權限。</p>
                            </div>
                        </div>
                    </div>
                    <div class="start-button-container">
                        <button id="startProcessingBtn" class="start-processing-btn">🗨 開始處理</button>
                    </div>
                    <div class="processing-progress" id="processingProgress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <span class="progress-text" id="progressText">正在處理中...</span>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Results Page -->
    <div class="results-page" id="resultsPage" style="display: none;">
        <header class="results-header">
            <h1>處理結果</h1>
            <button id="backToMainBtn" class="back-btn">← 返回主頁</button>
        </header>
        
        <div class="results-container" id="resultsContainer">
            <!-- Results will be displayed here -->
        </div>
    </div>

    <!-- Premium Modal -->
    <div class="premium-modal" id="premiumModal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>來都來了，不解鎖付費嗎？</h2>
                <button class="close-btn" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-image">
                <img src="images/來都來了.jpg" alt="Premium Features">
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>